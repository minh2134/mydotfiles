#!/bin/bash

DIR="$HOME/Documents/note"

#Declaring functions
edit () {
	$EDITOR $DIR/$1
}
add (){
	echo $1 >> $DIR/$2
	view $2
}

remove(){
	sed -i "${1}d" $DIR/$2
	view $2
}

list (){
	ls $DIR
}

view (){
	echo "=================NOTE BEGNNING==================="
	cat $DIR/$1
	echo "===================NOTE END======================"
}
helper(){
	cat $DIR/helper.note
}
delete(){
	rm -f $DIR/$1
}
#Main body
case $1 in
	-e|--edit)
		edit $2
		;;
	-l|--list)
		list
		;;
	-v|--view-note)
		view $2
		;;
	-d|--delete)
		echo "Are you sure you want to delete $2 (Y/n)"
		read -s -t 3600 -N 1 input
		echo $input
		if [[ $input = "Y" ]] || [[ $input = "y" ]]; then
			delete $2
			echo "Deleted $2"
		elif [[ $input = "n" ||  $input = "N" ]]; then
			echo "Exiting..."
		fi
		;;
	-h|--help)
		helper
		;;
	-a|--add-item)
		add "$2" $3
		;;
	-r|remove-item)
		remove $2 $3
		;;
	*)
		sl -alF
		;;
esac
